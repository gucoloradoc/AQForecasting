scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
#Histogram
ggplot() +
geom_bar(data=cats,
aes(x=x, fill=cat, group=cat),
colour='#757780') +theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
#Histogram
ggplot() +
geom_bar(data=cats,
aes(x=x, fill=cat, group=cat, y=..density..),
colour='#757780') +theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
#Histogram
ggplot() +
geom_bar(data=cats,
aes(x=x, fill=cat, group=cat, y=..density..),
colour='#757780') +theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
#Histogram
ggplot() +
geom_bar(data=cats,
aes(x=x, fill=cat, group=cat, y=..density..),
colour='#757780') +theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
#Histogram
ggplot() +
geom_bar(data=cats,
aes(x=x, fill=cat,  y=..density.., group=cat),
colour='#757780') +theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
#Histogram
ggplot() +
geom_histogram(data=cats,
aes( y=..density..,x=x, fill=cat, group=cat),
colour='#757780') +theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
#Histogram
ggplot() +
geom_histogram(data=cats,
aes( y=..count../20,x=x, fill=cat, group=cat),
colour='#757780') +theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
#Histogram
ggplot() +
geom_histogram(data=cats,
aes( y=..density.. ,x=x, fill=cat, group=cat),
colour='#757780') +theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
#Histogram
ggplot() +
geom_histogram(data=cats,
aes( y=..count../sum(..count..) ,x=x, fill=cat, group=cat),
colour='#757780') +theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
ggplot() +
geom_histogram(data=data.frame(xa),
aes(x=xa, fill='A'),
binwidth=0.1,
colour='#757780') +
geom_histogram(data=data.frame(xb),
aes(x=xb, fill='B'),
binwidth=0.1,
colour='#757780',
alpha=0.5) +
theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
ggplot() +
geom_histogram(data=data.frame(xa),
aes(x=xa, fill='A'),
binwidth=0.1,
colour='#757780') +
geom_histogram(data=data.frame(xb),
aes(x=xb, fill='B'),
binwidth=0.1,
colour='#757780',
alpha=0.5) +
theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
xa==2.6
sum(xa==2.6)
#Histogram
ggplot() +
geom_histogram(data=data.frame(xa),
aes(y=(..count../sum(..count..)),x=xa, fill='A'),
binwidth=0.1,
colour='#757780') +
geom_histogram(data=data.frame(xb),
aes(y=(..count../sum(..count..)),x=xb, fill='B'),
binwidth=0.1,
colour='#757780',
alpha=0.5) +
theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Frequency') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
#Histogram
ggplot() +
geom_histogram(data=data.frame(xa),
aes(y=(..count../sum(..count..)),x=xa, fill='A'),
binwidth=0.1,
colour='#757780') +
geom_histogram(data=data.frame(xb),
aes(y=(..count../sum(..count..)),x=xb, fill='B'),
binwidth=0.1,
colour='#757780',
alpha=0.5) +
theme_bw() +
theme(text = element_text(family = 'Times')) +
#scale_y_continuous(expand = c(0,0), limits = c(0, 2.1), breaks= c(1,2)) +
xlab('Yield %') + ylab('Density') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme(legend.position = c(0.8, 0.7),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
a <- data.frame(group='A', x=xa)
b <- data.frame(group='B', x=xb)
plot.data <- rbind(a,b)
ggplot() +
geom_boxplot(data=plot.data,
aes(fill=group, y=x, x=group),
colour='black') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme_bw() +xlab('Catalyst') + ylab('Yield (%)') +
theme(text = element_text(family = 'Times')) +
theme(legend.position = c(0.15, 0.8),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
au <- c(65,
67,
71,
57,
51,
49,
44,
41,
59,
49,
42,
56,
45,
77,
44,
42,
45,
46,
100,
59,
53,
51)
a <- data.frame(group='Enero', x=au)
ggplot() +
geom_boxplot(data=a,
aes(fill=group, y=x, x=group),
colour='black') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme_bw() +xlab('Catalyst') + ylab('Yield (%)') +
theme(text = element_text(family = 'Times')) +
theme(legend.position = c(0.15, 0.8),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
ggplot() +
geom_boxplot(data=a,
aes(fill=group, y=x, x=group),
colour='black') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme_bw() +xlab(NULL) + ylab('Absences') +
theme(text = element_text(family = 'Times')) +
theme(legend.position = c(0.15, 0.8),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
au <- c(65,
67,
71,
57,
51,
49,
44,
41,
59,
49,
42,
56,
45,
77,
44,
42,
45,
46,
100,
59,
53,
51)
a <- data.frame(group='Enero', x=au)
ggplot() +
geom_boxplot(data=a,
aes(fill=group, y=x, x=group),
colour='black') +
scale_fill_manual(values = c('#FCA17D','#387780'),
name='Catalyst ID',
labels= c('A', 'B')) +
theme_bw() +xlab(NULL) + ylab('Absences') +
theme(text = element_text(family = 'Times')) +
theme(legend.position = c(0.15, 0.8),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
ggplot() +
geom_boxplot(data=a,
aes(fill=group, y=x, x=group),
colour='black') +
theme_bw() +xlab(NULL) + ylab('Absences') +
theme(text = element_text(family = 'Times')) +
theme(legend.position = c(0.15, 0.8),
legend.background = element_rect(color = "black",
size = 0.5, linetype = "solid"))
ggplot() +
geom_boxplot(data=a,
aes(fill=group, y=x, x=group),
colour='black') +
theme_bw() +xlab(NULL) + ylab('Absences') +
theme(text = element_text(family = 'Times')) +
ggplot() +
geom_boxplot(data=a,
aes(fill=group, y=x, x=group),
colour='black') +
theme_bw() +xlab(NULL) + ylab('Absences') +
theme(text = element_text(family = 'Times'))
ggplot() +
geom_boxplot(data=a,
aes(fill=group, y=x, x=group),
colour='black') +
theme_bw() +xlab(NULL) + ylab('Absences') +
theme(text = element_text(family = 'Times'))
ggplot() +
geom_boxplot(data=a,
aes(fill=group, y=x, x=group),
colour='black') +
theme_bw() +xlab(NULL) + ylab('Absences') +
theme(text = element_text(family = 'Times')) +
theme(legend.position = "none")
ggplot() +
geom_boxplot(data=a,
aes(fill=group, y=x, x=group),
colour='black') +
theme_bw() +xlab(NULL) + ylab('Absences') +
theme(text = element_text(family = 'Times', size = 20)) +
theme(legend.position = "none")
install.packages("mice")
library("mice")
library(mice)
install.packages("mice")
install.packages("mice")
install.packages("mice")
library(mice)
nhanes
md.pattern(nhanes)
p<- md.pairs(nhanes)
p
library(vim)
install.packages("VIM")
library(vim)
library(VIM)
install.packages("robustbase")
library(VIM)
install.packages("VIM")
install.packages("VIM")
install.packages("VIM")
# Update FLIBS in ~/.R/Makevars
FLIBS=-L/usr/local/Cellar/gfortran/4.8.2/gfortran
#Re-Install from source
install.packages(c("Rcpp","RcppArmadillo","inline"),type="source")
#Restart R
FLIBS=-L/usr/local/Cellar/gcc/8.2.0/lib/gcc/8/
FLIBS=-L/usr/local/Cellar/gcc/8.2.0/lib/gcc/8
FLIBS=-L/usr/local/Cellar/gcc/8.2.0/lib/gcc
FLIBS=-L/usr/local/Cellar/gcc/9.1.0/bin/gfortran
FLIBS
a
install
install.packages("ImputeTS")
install.packages("imputeTS")
View(tsAirgap)
library(imputeTS)
tsAirgap
View(tsAirgap)
na.seadec(tsAirgap, algorithm = "interpolation")
plot(tsAirgap)
plot(na.seadec(tsAirgap, algorithm = "interpolation"))
NOROESTE <- read_csv("OneDrive - Instituto Tecnologico y de Estudios Superiores de Monterrey/Tecnológico de Monterrey/Maestría/Tesis/2019-I/AQForecasting/NOROESTE.csv",
col_types = cols(FECHA = col_datetime(format = "%Y-%m-%d %H:%M:%S")))
getwd()
library(readr)
NOROESTE <- read_csv("OneDrive - Instituto Tecnologico y de Estudios Superiores de Monterrey/Tecnológico de Monterrey/Maestría/Tesis/2019-I/AQForecasting/NOROESTE.csv",
col_types = cols(FECHA = col_datetime(format = "%Y-%m-%d %H:%M:%S")))
plot(NOROESTE$NO2)
typeof(tsAirgap)
typeof(NOROESTE$NO2)
tsAirgap
View(NOROESTE)
NOROESTE$FECHA[1]
NOROESTE$FECHA[0]
NOROESTE$FECHA[end]
NOROESTE$FECHA[last]
NOROESTE$FECHA[-1]
tail(NOROESTE$FECHA)
tail(NOROESTE$FECHA,1)
tail(NOROESTE$FECHA,1)-NOROESTE$FECHA[1]
2192*24
ts(NOROESTE, start = c(2012,24*365.25))
tsNOROESTE<-ts(NOROESTE, start = c(2012,24*365.25))
tsNOROESTE$NO2
tsNOROESTE['NO2']
tsNOROESTE[1]
tsNOROESTE[1,1]
tsNOROESTE[:,1]
tsNOROESTE[,1]
tsNOROESTE[,'NO2']
plot(tsNOROESTE[,'NO2'])
plot(tsAirgap)
plot(tsNOROESTE[,'NO2'])
library(imputeTS)
na.seadec(tsNOROESTE[,'NO2'], algorithm = "interpolation")
NO2imp <- na.seadec(tsNOROESTE[,'NO2'], algorithm = "interpolation")
plot(NO2imp)
NO2imp <- na.seadec(tsNOROESTE[,'NO2'], algorithm = "mean")
plot(NO2imp)
plot(tsNOROESTE[,'NO2'])
decompose(NO2imp)
library(readr)
library(imputeTS)
stacked.imputation <- function(tseries) {
tseriesimp <- na.seadec(tseries,  algorithm = "interpolation")
if (length(tseriesimp[tseriesimp <0])>0) {
tseriesimp[tseriesimp <0] <-NA
tseriesimp <- na.seadec(tseriesimp, algorithm = "mean")
}
return(tseriesimp)
}
Gerimputation <- function(datapath,station) {
#Fuction to read the csv file
df.station <-read_csv(paste(datapath, station,".csv",sep=""),
col_types = cols(FECHA = col_datetime(format = "%Y-%m-%d %H:%M:%S")))
df.tsstation<-ts(df.station[,2:16], start = c(2012,0), frequency = 365.25*24)
df.tsstation_imputed=df.tsstation #initialization
for (i in 1:(dim(df.tsstation)[2])){
df.tsstation_imputed[,i] <- stacked.imputation(df.tsstation[,i])
}
#for each variable perform the imputation and save in a csv and plot
#in a folder imputedG with subfolders data and plots.
return(df.tsstation_imputed)
}
#Working directory on AQPForecasting
NOROESTE <- read_csv("Monterrey/data/cleaned_station/NOROESTE.csv",
col_types = cols(FECHA = col_datetime(format = "%Y-%m-%d %H:%M:%S")))
View(NOROESTE)
tsNOROESTE<-ts(NOROESTE, start = c(2012,0), frequency = 365.25*24)
imputed <-Gerimputation("Monterrey/data/cleaned_station/","NOROESTE")
setwd("~/OneDrive - Instituto Tecnologico y de Estudios Superiores de Monterrey/Tecnológico de Monterrey/Maestría/Tesis/2019-I/AQForecasting")
setwd("~/OneDrive - Instituto Tecnologico y de Estudios Superiores de Monterrey/Tecnológico de Monterrey/Maestría/Tesis/2019-I/AQForecasting")
library(readr)
library(imputeTS)
stacked.imputation <- function(tseries) {
tseriesimp <- na.seadec(tseries,  algorithm = "interpolation")
if (length(tseriesimp[tseriesimp <0])>0) {
tseriesimp[tseriesimp <0] <-NA
tseriesimp <- na.seadec(tseriesimp, algorithm = "mean")
}
return(tseriesimp)
}
Gerimputation <- function(datapath,station) {
#Fuction to read the csv file
df.station <-read_csv(paste(datapath, station,".csv",sep=""),
col_types = cols(FECHA = col_datetime(format = "%Y-%m-%d %H:%M:%S")))
df.tsstation<-ts(df.station[,2:16], start = c(2012,0), frequency = 365.25*24)
df.tsstation_imputed=df.tsstation #initialization
for (i in 1:(dim(df.tsstation)[2])){
df.tsstation_imputed[,i] <- stacked.imputation(df.tsstation[,i])
}
#for each variable perform the imputation and save in a csv and plot
#in a folder imputedG with subfolders data and plots.
return(df.tsstation_imputed)
}
#Working directory on AQPForecasting
NOROESTE <- read_csv("Monterrey/data/cleaned_station/NOROESTE.csv",
col_types = cols(FECHA = col_datetime(format = "%Y-%m-%d %H:%M:%S")))
View(NOROESTE)
tsNOROESTE<-ts(NOROESTE, start = c(2012,0), frequency = 365.25*24)
imputed <-Gerimputation("Monterrey/data/cleaned_station/","NOROESTE")
cbind(NOROESTE[,1],imputed)
View(cbind(NOROESTE[,1],imputed))
View(cbind(NOROESTE[,1],data.frame(imputed)))
View(cbind(format(NOROESTE[,1],"%Y-%m-%d %H:%M:%S"),data.frame(imputed)))
format(NOROESTE[,1],"%Y-%m-%d %H:%M:%S")
a<-format(NOROESTE[,1],"%Y-%m-%d %H:%M:%S")
a
a<-format(NOROESTE$FECHA,"%Y-%m-%d %H:%M:%S")
a<-format(NOROESTE[,1],"%Y-%m-%d %H:%M:%S")
a<-format(NOROESTE$FECHA,"%Y-%m-%d %H:%M:%S")
write.csv(cbind(format(NOROESTE$FECHA,"%Y-%m-%d %H:%M:%S"),data.frame(imputed)), file="Monterrey/data/imputed/data/NOROESTE.csv", row.names = FALSE)
df.output <-cbind(format(NOROESTE$FECHA,"%Y-%m-%d %H:%M:%S"),data.frame(imputed))
colnames(df.output)
colnames(df.output)[1]
colnames(df.output)[1] <- "FECHA"
df.output
write.csv(df.output, file="Monterrey/data/imputed/data/NOROESTE.csv", row.names = FALSE)
